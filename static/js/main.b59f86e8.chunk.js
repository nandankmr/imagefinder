(this.webpackJsonpimagefinder=this.webpackJsonpimagefinder||[]).push([[0],{120:function(e,t,a){e.exports=a(153)},125:function(e,t,a){},126:function(e,t,a){},148:function(e,t,a){},150:function(e,t,a){},151:function(e,t,a){},152:function(e,t,a){},153:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(11),o=a.n(l),c=(a(125),a(7)),i=a(93),s=a(201),u=a(223),m=a(198),d=a(225),f=a(218),g=a(202),E=a(203),h=a(33),p=a(96),b=a.n(p),v=(a(126),a(219),a(18)),y=a.n(v);function k(e){var t=e.getServerImages,a=e.page,l=e.setPage,o=Object(n.useState)(""),p=Object(c.a)(o,2),v=p[0],y=p[1],k=Object(n.useState)(15),O=Object(c.a)(k,1)[0],j=Object(n.useState)(!1),C=(Object(i.a)(j),Object(n.useState)(!1)),A=Object(c.a)(C,2),x=A[0],S=A[1],w=Object(n.useState)("Pixabay"),I=Object(c.a)(w,2),N=I[0],L=I[1];return Object(n.useEffect)((function(){t(N,v,O,a)}),[O,a]),Object(n.useEffect)((function(){1!==a?l(1):t(N,v,O,a)}),[N]),r.a.createElement(r.a.Fragment,null,r.a.createElement(s.a,{raised:!0,className:"card"},r.a.createElement(u.a,{className:"input",name:"search",label:"Search Images",variant:"outlined",defaultValue:v,fullWidth:!0,onChange:function(e){return y(e.target.value)},onKeyPress:function(e){"Enter"===e.key&&(1===a?t(N,v,O):l(1))}}),r.a.createElement(m.a,{style:{minWidth:"7rem",margin:" 0 0.5rem"}}," ",r.a.createElement(d.a,null,"Source"),r.a.createElement(f.a,{open:x,onClose:function(){return S(!1)},onOpen:function(){return S(!0)},value:N,onChange:function(e){return L(e.target.value)},variant:"filled"},r.a.createElement(g.a,{value:"Pixabay"},"Pixabay"),r.a.createElement(g.a,{value:"Unsplash"},"Unsplash"),r.a.createElement(g.a,{value:"Pexels"},"Pexels"),r.a.createElement(g.a,{value:"Giphy"},"Giphy"))),r.a.createElement(E.a,{style:{padding:"0 15"},variant:"contained",color:"secondary",className:"btn",startIcon:r.a.createElement(b.a,null),onClick:function(){return 1===a?t(N,v,O):l(1)}},r.a.createElement(h.a,null,"Search"))))}var O=a(212),j=a(213),C=a(205),A=a(209),x=a(208),S=a(206),w=a(222),I=a(220),N=a(207),L=a(154),P=a(204);function F(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}function W(e){var t=e.setAuth,a=e.setInfo,l=e.variant,o=e.onClick,i=e.isList,s=Object(n.useState)(!1),m=Object(c.a)(s,2),d=m[0],f=m[1],g=Object(n.useState)(!1),h=Object(c.a)(g,2),p=h[0],b=h[1],v=Object(n.useState)(""),k=Object(c.a)(v,2),O=k[0],j=k[1],I=Object(n.useState)(""),W=Object(c.a)(I,2),D=W[0],R=W[1],B=Object(n.useState)(""),H=Object(c.a)(B,2),T=H[0],z=H[1],U=Object(n.useState)(""),q=Object(c.a)(U,2),Y=q[0],Z=q[1],_=Object(n.useState)(!1),G=Object(c.a)(_,2),J=G[0],K=G[1],V=function(){f(!d),j(""),z(""),R("")},$=new RegExp("^([a-zA-Z0-9_\\-\\.]+)@([a-zA-Z0-9_\\-\\.]+)\\.([a-zA-Z]{2,5})$"),M=function(e,t){"clickaway"!==t&&b(!1)};return Object(n.useEffect)((function(){Y&&(b(!0),setTimeout((function(){return Z("")}),6e3))}),[Y]),r.a.createElement("div",null,i?r.a.createElement(L.a,{button:!0},r.a.createElement(P.a,{primary:"Register",onClick:V})):r.a.createElement(E.a,{color:"inherit",variant:l,onClick:V},"Register"),r.a.createElement(C.a,{open:d,onClose:V,"aria-labelledby":"form-dialog-title"},r.a.createElement(S.a,{id:"form-dialog-title"},"Register"),J?r.a.createElement(N.a,null):null,r.a.createElement(x.a,{dividers:!0},r.a.createElement(u.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"name",fullWidth:!0,value:O,onChange:function(e){return j(e.target.value)}}),r.a.createElement(u.a,{margin:"dense",id:"email",label:"Email",type:"email",fullWidth:!0,value:D,onChange:function(e){return R(e.target.value)}}),r.a.createElement(u.a,{margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,value:T,onChange:function(e){return z(e.target.value)}})),r.a.createElement(A.a,null,r.a.createElement(E.a,{onClick:function(){O.trim()&&D.trim()&&T.trim()?$.test(D.trim())?(K(!0),y.a.post("https://imageseeker.herokuapp.com/user/register",{name:O,email:D,password:T}).then((function(e){console.log(e),t({isAuth:!0,token:e.data.token,user:e.data.user}),a("Welcome, "+e.data.user.name+"!"),V(),o&&o()})).catch((function(e){return e.response?Z(e.response.data.msg):Z("Please check your network")})).finally((function(){return K(!1)}))):Z("Enter a valid email id"):Z("Enter all fields")},variant:"contained",color:"primary"},"Register"),r.a.createElement(E.a,{onClick:V,color:"secondary",variant:"contained"},"Cancel")),r.a.createElement(w.a,{open:p,autoHideDuration:6e3,onClose:M},r.a.createElement(F,{onClose:M,severity:"error"},Y))))}function D(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}function R(e){var t=e.setAuth,a=e.setInfo,l=e.variant,o=e.onClick,i=e.isList,s=Object(n.useState)(!1),m=Object(c.a)(s,2),d=m[0],f=m[1],g=Object(n.useState)(!1),h=Object(c.a)(g,2),p=h[0],b=h[1],v=Object(n.useState)(""),k=Object(c.a)(v,2),O=k[0],j=k[1],I=Object(n.useState)(""),F=Object(c.a)(I,2),W=F[0],R=F[1],B=Object(n.useState)(""),H=Object(c.a)(B,2),T=H[0],z=H[1],U=Object(n.useState)(!1),q=Object(c.a)(U,2),Y=q[0],Z=q[1],_=function(){f(!d),R(""),j("")},G=function(e,t){"clickaway"!==t&&b(!1)};return Object(n.useEffect)((function(){T&&(b(!0),setTimeout((function(){return z("")}),6e3))}),[T]),r.a.createElement("div",null,i?r.a.createElement(L.a,{button:!0,onClick:_},r.a.createElement(P.a,{primary:"Login"})):r.a.createElement(E.a,{color:"inherit",variant:l,onClick:_},"Login"),r.a.createElement(C.a,{open:d,onClose:_,"aria-labelledby":"form-dialog-title"},r.a.createElement(S.a,{id:"form-dialog-title"},"Login"),Y?r.a.createElement(N.a,null):null,r.a.createElement(x.a,{dividers:!0},r.a.createElement(u.a,{autoFocus:!0,margin:"dense",id:"email",label:"Email",type:"email",fullWidth:!0,value:O,onChange:function(e){return j(e.target.value)}}),r.a.createElement(u.a,{margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,value:W,onChange:function(e){return R(e.target.value)}})),r.a.createElement(A.a,null,r.a.createElement(E.a,{onClick:function(){O.trim()&&W.trim()?(Z(!0),y.a.post("https://imageseeker.herokuapp.com/user/login",{email:O,password:W}).then((function(e){console.log(e),t({isAuth:!0,token:e.data.token,user:e.data.user}),a("You are logged in"),_(),o&&o()})).catch((function(e){return e.response?z(e.response.data.msg):z("Please check your network")})).finally((function(){return Z(!1)}))):z("Enter all fields")},variant:"contained",color:"primary"},"Login"),r.a.createElement(E.a,{onClick:_,color:"secondary",variant:"contained"},"Cancel")),r.a.createElement(w.a,{open:p,autoHideDuration:6e3,onClose:G},r.a.createElement(D,{onClose:G,severity:"error"},T))))}a(148);function B(e){var t=e.setAuth,a=e.setInfo,l=e.isList,o=e.onClick,i=Object(n.useState)(!1),s=Object(c.a)(i,2),u=s[0],m=s[1],d=function(){m(!u)};return r.a.createElement("div",null,l?r.a.createElement(L.a,{button:!0,onClick:d},r.a.createElement(P.a,{primary:"Logout"})):r.a.createElement(E.a,{color:"inherit",onClick:d},"Logout"),r.a.createElement(C.a,{open:u,onClose:d,"aria-labelledby":"form-dialog-title"},r.a.createElement(S.a,{id:"form-dialog-title"},"Confirm Logout"),r.a.createElement(x.a,null,r.a.createElement(h.a,{gutterBottom:!0},"Are you sure you want to logout?"," ")),r.a.createElement(A.a,null,r.a.createElement(E.a,{onClick:function(){t({isAuth:!1,token:"",user:{}}),a("You are logged out"),d(),o&&o()},variant:"contained",color:"primary"},"Yes"),r.a.createElement(E.a,{autoFocus:!0,onClick:d,color:"secondary",variant:"contained"},"No"))))}var H=a(31),T=a(211),z=a(9),U=a(97),q=a(210),Y=a(221),Z=a(200),_=a(195),G=a(100),J=a.n(G),K=a(98),V=a.n(K),$=Object(q.a)({list:{width:250},fullList:{width:"auto"}});function M(e){var t=e.setAuth,a=e.auth,l=e.setInfo,o=$(),i=r.a.useState({left:!1}),s=Object(c.a)(i,2),u=s[0],m=s[1],d=function(e,t){return function(a){(!a||"keydown"!==a.type||"Tab"!==a.key&&"Shift"!==a.key)&&m(Object(U.a)({},u,Object(z.a)({},e,t)))}};return r.a.createElement("div",null,r.a.createElement(_.a,{color:"inherit",onClick:d("left",!0)},r.a.createElement(J.a,null)),r.a.createElement(Y.a,{open:u.left,onClose:d("left",!1),onOpen:d("left",!0)},r.a.createElement("div",{className:o.list,role:"presentation"},r.a.createElement("div",{style:{display:"flex",justifyContent:"flex-end",alignItems:"center"}},r.a.createElement(_.a,{onClick:d("left",!1)},r.a.createElement(V.a,null))),r.a.createElement(T.a,null),r.a.createElement(Z.a,null,a.isAuth?r.a.createElement(n.Fragment,null,r.a.createElement(H.b,{to:"/",style:{color:"inherit",textDecoration:"None"},onClick:d("left",!1)},r.a.createElement(L.a,{button:!0},r.a.createElement(P.a,{primary:"Home",sty:!0}))),r.a.createElement(H.b,{to:"/profile",onClick:d("left",!1),style:{color:"inherit",textDecoration:"None"}},r.a.createElement(L.a,{button:!0},r.a.createElement(P.a,{primary:"Profile"}))),r.a.createElement(B,{setAuth:t,onClick:d("left",!1),setInfo:l,isList:!0})):r.a.createElement(n.Fragment,null,r.a.createElement(W,{setAuth:t,setInfo:l,isList:!0,onClick:d("left",!1)}),r.a.createElement(R,{setAuth:t,setInfo:l,isList:!0,onClick:d("left",!1)}))))))}var Q=function(e){var t=e.setAuth,a=e.auth,l=e.setInfo;return r.a.createElement("div",{className:"root"},r.a.createElement(O.a,{position:"static"},r.a.createElement(j.a,{className:"tool"},r.a.createElement("div",{className:"title"},r.a.createElement(M,{setAuth:t,auth:a,setInfo:l}),r.a.createElement(h.a,{variant:"h6",className:"title"},r.a.createElement(H.b,{style:{color:"white",textDecoration:"None"},to:"/"}," ","Image Finder"))),r.a.createElement("div",{className:"navmenu"},a.isAuth?r.a.createElement(n.Fragment,null,r.a.createElement(H.b,{to:"/",style:{color:"white",textDecoration:"None"}},r.a.createElement(E.a,{color:"inherit"},"Home")),r.a.createElement(H.b,{to:"/profile",style:{color:"white",textDecoration:"None"}},r.a.createElement(E.a,{color:"inherit"},"Profile")),r.a.createElement(B,{setAuth:t,setInfo:l})):r.a.createElement(n.Fragment,null,r.a.createElement(W,{setAuth:t,setInfo:l}),r.a.createElement(T.a,{color:"secondary",orientation:"vertical"}),r.a.createElement(R,{setAuth:t,setInfo:l}))))))},X=(a(150),a(214)),ee=a(215),te=a(216),ae=(a(151),a(20)),ne=a(101),re=a.n(ne),le=a(102),oe=a.n(le),ce=function(e){var t=e.favorite,a=e.auth,l=e.setAuth,o=e.toggle,c=e.image,i=a.user,s=i.name,u=i.email,m=i.favorites,d=a.token,f=a.isAuth;return r.a.createElement(n.Fragment,null,t?r.a.createElement(_.a,{title:"Remove from favorites",onClick:function(){y.a.put("https://imageseeker.herokuapp.com/user/removefavorite",c,{headers:{"x-auth-token":a.token}}).then((function(e){l({isAuth:f,token:d,user:{name:s,email:u,favorites:m.filter((function(t){return t!==e.data}))}})}))},style:{margin:0,padding:7}},r.a.createElement(re.a,{color:"secondary"})):r.a.createElement(_.a,{title:"Add to favorites",onClick:function(){y.a.put("https://imageseeker.herokuapp.com/user/addfavorite",c,{headers:{"x-auth-token":a.token}}).then((function(e){l({isAuth:f,token:d,user:{name:s,email:u,favorites:[e.data].concat(Object(ae.a)(m))}})})).catch((function(e){401===e.response.status&&o()}))},style:{margin:0,padding:7}},r.a.createElement(oe.a,null)))},ie=function(e){var t=e.image,a=e.handleClickOpen,n=e.auth,l=e.favorite,o=e.setAuth,c=e.toggle;return r.a.createElement(s.a,{key:t.id,raised:!0,className:"box"},r.a.createElement(X.a,{className:"header",style:{paddingTop:"5px",paddingBottom:"5px"},title:t.tags&&t.tags.length>25?t.tags.substring(0,25)+"...":t.tags,titleTypographyProps:{variant:"body1"},subheader:t.user}),r.a.createElement(ee.a,{image:t.webformatURL,className:"image",onClick:function(){a(t.largeImageURL,t.download)}}),r.a.createElement(te.a,{disableSpacing:!0,className:"cardAction",style:{margin:0,padding:0}},r.a.createElement(ce,{favorite:l,auth:n,setAuth:o,toggle:c,image:t})))},se=a(104),ue=a.n(se),me=a(103),de=a.n(me);function fe(e){var t=e.auth,a=e.setAuth,l=e.images,o=e.toggle,i=Object(n.useState)({}),s=Object(c.a)(i,2),u=s[0],m=s[1],d=r.a.useState(!1),f=Object(c.a)(d,2),g=f[0],E=f[1],p=Object(q.a)((function(e){return{appBar:{position:"relative"},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{width:500,height:450},icon:{color:"rgba(255, 255, 255, 0.54)"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))(),b=function(e,t){m({img:e,download:t}),E(!0)},v=function(){E(!1)};return r.a.createElement("div",{className:p.root},l.length?r.a.createElement("div",{className:"container"},l.map((function(e){return r.a.createElement(ie,{toggle:o,favorite:!(!t.isAuth||!t.user.favorites.find((function(t){return t===e.id}))),setAuth:a,auth:t,key:e.id,image:e,handleClickOpen:b})}))):r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"}},r.a.createElement(h.a,{style:{color:"#444",marginTop:"2rem",textAlign:"center"}},"Opps... No images found. Here is a random image for you"),r.a.createElement("img",{alt:"",style:{maxHeight:"70vh",maxWidth:"100vw"},src:"https://source.unsplash.com/random"})),r.a.createElement(C.a,{style:{margin:0,padding:0},open:g,onClose:v,scroll:"body","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",maxWidth:"lg"},r.a.createElement(A.a,{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("a",{href:u.download||u.img,target:"_blank"},r.a.createElement(_.a,{style:{margin:0,padding:0}},r.a.createElement(de.a,null))),r.a.createElement(_.a,{onClick:v,style:{margin:0,padding:0}},r.a.createElement(ue.a,null))),r.a.createElement(x.a,{style:{padding:0}},r.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"89vh",margin:"auto"},src:u.img,alt:""}))))}function ge(e){var t=e.open,a=e.toggle,n=e.setAuth,l=e.setInfo;return r.a.createElement("div",null,r.a.createElement(C.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title"},r.a.createElement(S.a,{id:"form-dialog-title"},"Login or Register"),r.a.createElement(x.a,{dividers:!0},r.a.createElement(h.a,null,"Login or Register to add to favorites. ")),r.a.createElement(A.a,null,r.a.createElement(W,{onClick:a,variant:"outlined",setAuth:n,setInfo:l}),r.a.createElement(R,{onClick:a,setAuth:n,setInfo:l,variant:"outlined"}),r.a.createElement(E.a,{autoFocus:!0,onClick:a,color:"secondary",variant:"contained"},"Cancel"))))}var Ee=a(37),he=a(226),pe=(a(152),a(105)),be=a.n(pe);function ve(e){var t=e.setAuth,a=e.setInfo,l=e.auth,o=Object(n.useState)(!1),i=Object(c.a)(o,2),s=i[0],u=i[1],m=function(){u(!s)};return r.a.createElement("div",null,r.a.createElement(E.a,{variant:"contained",startIcon:r.a.createElement(be.a,null),color:"secondary",onClick:m},"Delete Account"),r.a.createElement(C.a,{open:s,onClose:m,"aria-labelledby":"form-dialog-title"},r.a.createElement(S.a,{id:"form-dialog-title"},"Danger!"),r.a.createElement(x.a,null,r.a.createElement(h.a,{gutterBottom:!0},"Are you sure? All data will be lost!"," ")),r.a.createElement(A.a,null,r.a.createElement(E.a,{onClick:function(){y.a.delete("https://imageseeker.herokuapp.com/user/removeuser",{headers:{"x-auth-token":l.token}}).then((function(e){a(e.data.msg),t({isAuth:!1,token:"",user:{}})})),m()},variant:"contained",color:"primary"},"I'm Sure"),r.a.createElement(E.a,{autoFocus:!0,onClick:m,color:"secondary",variant:"contained"},"No, I changed my mind"))))}var ye=function(e){var t=e.auth,a=e.setAuth,l=e.setInfo,o=Object(n.useState)([]),i=Object(c.a)(o,2),u=i[0],m=i[1];return Object(n.useEffect)((function(){y.a.get("https://imageseeker.herokuapp.com/user/getfavorites",{headers:{"x-auth-token":t.token}}).then((function(e){console.log(e.data),m(e.data)}))}),[a]),t.isAuth?r.a.createElement(n.Fragment,null,r.a.createElement(s.a,{className:"profile-card"},r.a.createElement(X.a,{style:{height:"20vh",margin:"auto"},avatar:r.a.createElement(he.a,{style:{backgroundColor:"red"}},t.user.name[0]),title:t.user.name,subheader:"Email: "+t.user.email,titleTypographyProps:{variant:"h5"}}),r.a.createElement("div",{className:"removebtn"},r.a.createElement(ve,{setAuth:a,setInfo:l,auth:t})),r.a.createElement(h.a,{variant:"h5",style:{textAlign:"Center",marginBottom:"1rem",padding:"3px",borderBottom:"1px dotted #444"}},"Favorites"),r.a.createElement(fe,{images:u,auth:t,setAuth:a}))):r.a.createElement(Ee.a,{to:"/"})},ke=a(217);function Oe(e){return r.a.createElement(I.a,Object.assign({elevation:6,variant:"filled"},e))}var je=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],l=t[1],o=Object(n.useState)(!1),i=Object(c.a)(o,2),s=i[0],u=i[1],m=Object(n.useState)(!1),d=Object(c.a)(m,2),f=d[0],g=d[1],E=Object(n.useState)({q:"",source:"",hits:10}),p=Object(c.a)(E,2),b=p[0],v=p[1],O=Object(n.useState)(""),j=Object(c.a)(O,2),C=j[0],A=j[1],x=Object(n.useState)([]),S=Object(c.a)(x,2),I=S[0],L=S[1],P=Object(n.useState)(1),F=Object(c.a)(P,2),W=F[0],D=F[1],R=Object(n.useState)("https://imageseeker.herokuapp.com/"),B=Object(c.a)(R,1)[0],T=Object(n.useState)({isAuth:!1,token:"",user:{}}),z=Object(c.a)(T,2),U=z[0],q=z[1],Y=function(){l(!a)},Z=function(e,t){"clickaway"!==t&&g(!1)};return Object(n.useEffect)((function(){C&&(g(!0),setTimeout((function(){return A("")}),4e3))}),[C]),r.a.createElement("div",{className:"App"},r.a.createElement(H.a,null,r.a.createElement(Q,{auth:U,setAuth:q,setInfo:A,toggle:Y}),r.a.createElement(Ee.a,{to:"/"}),r.a.createElement(Ee.d,null,r.a.createElement(Ee.b,{path:"/",exact:!0},r.a.createElement(k,{getServerImages:function(e,t,a,n){v({q:t,source:e,hits:a}),u(!0),y.a.get("".concat(B,"api/").concat(e.toLowerCase(),"?q=").concat(t,"&hits=").concat(a,"&page=").concat(n)).then((function(e){L(e.data),console.log(e.data)})).catch(console.log).finally((function(){return u(!1)}))},page:W,setPage:D}),I?r.a.createElement(n.Fragment,null,I.length===b.hits?r.a.createElement(ke.a,{color:"primary",onClick:function(){return D(W+1)},style:{position:"fixed",zIndex:2,bottom:"2rem",right:"2rem"},variant:"extended"},r.a.createElement(h.a,null,"Next")):null,s?r.a.createElement(N.a,null):null,W>1?r.a.createElement(ke.a,{onClick:function(){return D(W-1)},style:{position:"fixed",zIndex:2,bottom:"2rem",left:"2rem"},color:"secondary",variant:"extended"},r.a.createElement(h.a,null,"Previous")):null,r.a.createElement(fe,{auth:U,setAuth:q,images:I,toggle:Y})):null),r.a.createElement(Ee.b,{path:"/profile"},r.a.createElement(ye,{auth:U,setAuth:q,toggle:Y,setInfo:A})))),r.a.createElement(w.a,{open:f,autoHideDuration:4e3,onClose:Z},r.a.createElement(Oe,{onClose:Z,severity:"success"},C)),r.a.createElement(ge,{open:a,toggle:Y,setAuth:q,setInfo:A}))};o.a.render(r.a.createElement(je,null),document.getElementById("root"))}},[[120,1,2]]]);
//# sourceMappingURL=main.b59f86e8.chunk.js.map