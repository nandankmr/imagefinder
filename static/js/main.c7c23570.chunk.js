(this.webpackJsonpimagefinder=this.webpackJsonpimagefinder||[]).push([[0],{104:function(e,t,a){},105:function(e,t,a){},128:function(e,t,a){},129:function(e,t,a){},130:function(e,t,a){},131:function(e,t,a){},134:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(9),l=a.n(o),c=(a(104),a(7)),i=a(166),s=a(192),u=a(172),m=a(194),d=a(187),g=a(195),f=a(174),h=a(46),E=a(83),p=a.n(E);a(105);function b(e){var t=e.getServerImages,a=e.page,o=e.setPage,l=Object(n.useState)(""),E=Object(c.a)(l,2),b=E[0],v=E[1],y=Object(n.useState)(15),O=Object(c.a)(y,2),j=O[0],k=(O[1],Object(n.useState)(!1)),C=Object(c.a)(k,2),A=(C[0],C[1],Object(n.useState)(!1)),x=Object(c.a)(A,2),S=x[0],w=x[1],I=Object(n.useState)("Pixabay"),N=Object(c.a)(I,2),P=N[0],F=N[1];return Object(n.useEffect)((function(){t(P,b,j,a)}),[j,a]),Object(n.useEffect)((function(){1!==a?o(1):t(P,b,j,a)}),[P]),r.a.createElement(r.a.Fragment,null,r.a.createElement(i.a,{raised:!0,className:"card"},r.a.createElement(s.a,{className:"input",label:"Search Images",variant:"outlined",defaultValue:b,fullWidth:!0,onChange:function(e){return v(e.target.value)}}),r.a.createElement(u.a,{style:{minWidth:"7rem",margin:" 0 0.5rem"}}," ",r.a.createElement(m.a,null,"Source"),r.a.createElement(d.a,{open:S,onClose:function(){return w(!1)},onOpen:function(){return w(!0)},value:P,onChange:function(e){return F(e.target.value)},variant:"filled"},r.a.createElement(g.a,{value:"Pixabay"},"Pixabay"),r.a.createElement(g.a,{value:"Unsplash"},"Unsplash"),r.a.createElement(g.a,{value:"Pexels"},"Pexels"),r.a.createElement(g.a,{value:"Giphy"},"Giphy"))),r.a.createElement(f.a,{style:{padding:"0 15"},variant:"contained",color:"secondary",className:"btn",startIcon:r.a.createElement(p.a,null),onClick:function(){return 1===a?t(P,b,j):o(1)}},r.a.createElement(h.a,null,"Search"))))}var v=a(183),y=a(184),O=a(191),j=a(178),k=a(177),C=a(176),A=a(190),x=a(188),S=a(21),w=a.n(S);function I(e){return r.a.createElement(x.a,Object.assign({elevation:6,variant:"filled"},e))}function N(e){var t=e.setAuth,a=e.setInfo,o=e.variant,l=e.onClick,i=Object(n.useState)(!1),u=Object(c.a)(i,2),m=u[0],d=u[1],g=Object(n.useState)(!1),h=Object(c.a)(g,2),E=h[0],p=h[1],b=Object(n.useState)(""),v=Object(c.a)(b,2),y=v[0],x=v[1],S=Object(n.useState)(""),N=Object(c.a)(S,2),P=N[0],F=N[1],W=Object(n.useState)(""),L=Object(c.a)(W,2),R=L[0],B=L[1],D=Object(n.useState)(""),H=Object(c.a)(D,2),T=H[0],U=H[1],q=function(){d(!m),x(""),B(""),F("")},Y=function(e,t){"clickaway"!==t&&p(!1)};return Object(n.useEffect)((function(){T&&(p(!0),setTimeout((function(){return U("")}),6e3))}),[T]),r.a.createElement("div",null,r.a.createElement(f.a,{color:"inherit",onClick:q,variant:o},"Register"),r.a.createElement(O.a,{open:m,onClose:q,"aria-labelledby":"form-dialog-title"},r.a.createElement(C.a,{id:"form-dialog-title"},"Register"),r.a.createElement(k.a,{dividers:!0},r.a.createElement(s.a,{autoFocus:!0,margin:"dense",id:"name",label:"Name",type:"name",fullWidth:!0,value:y,onChange:function(e){return x(e.target.value)}}),r.a.createElement(s.a,{margin:"dense",id:"email",label:"Email",type:"email",fullWidth:!0,value:P,onChange:function(e){return F(e.target.value)}}),r.a.createElement(s.a,{margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,value:R,onChange:function(e){return B(e.target.value)}})),r.a.createElement(j.a,null,r.a.createElement(f.a,{onClick:function(){y.trim()&&P.trim()&&R.trim()?w.a.post("https://imageseeker.herokuapp.com/user/register",{name:y,email:P,password:R}).then((function(e){console.log(e),t({isAuth:!0,token:e.data.token,user:e.data.user}),a("Welcome, "+e.data.user.name+"!"),q(),l&&l()})).catch((function(e){return U(e.response.data.msg)})):U("Enter all fields")},variant:"contained",color:"primary"},"Register"),r.a.createElement(f.a,{onClick:q,color:"secondary",variant:"contained"},"Cancel")),r.a.createElement(A.a,{open:E,autoHideDuration:6e3,onClose:Y},r.a.createElement(I,{onClose:Y,severity:"error"},T))))}function P(e){return r.a.createElement(x.a,Object.assign({elevation:6,variant:"filled"},e))}function F(e){var t=e.setAuth,a=e.setInfo,o=e.variant,l=e.onClick,i=Object(n.useState)(!1),u=Object(c.a)(i,2),m=u[0],d=u[1],g=Object(n.useState)(!1),h=Object(c.a)(g,2),E=h[0],p=h[1],b=Object(n.useState)(""),v=Object(c.a)(b,2),y=v[0],x=v[1],S=Object(n.useState)(""),I=Object(c.a)(S,2),N=I[0],F=I[1],W=Object(n.useState)(""),L=Object(c.a)(W,2),R=L[0],B=L[1],D=function(){d(!m),F(""),x("")},H=function(e,t){"clickaway"!==t&&p(!1)};return Object(n.useEffect)((function(){R&&(p(!0),setTimeout((function(){return B("")}),6e3))}),[R]),r.a.createElement("div",null,r.a.createElement(f.a,{color:"inherit",variant:o,onClick:D},"Login"),r.a.createElement(O.a,{open:m,onClose:D,"aria-labelledby":"form-dialog-title"},r.a.createElement(C.a,{id:"form-dialog-title"},"Login"),r.a.createElement(k.a,{dividers:!0},r.a.createElement(s.a,{autoFocus:!0,margin:"dense",id:"email",label:"Email",type:"email",fullWidth:!0,value:y,onChange:function(e){return x(e.target.value)}}),r.a.createElement(s.a,{margin:"dense",id:"password",label:"Password",type:"password",fullWidth:!0,value:N,onChange:function(e){return F(e.target.value)}})),r.a.createElement(j.a,null,r.a.createElement(f.a,{onClick:function(){y.trim()&&N.trim()?w.a.post("https://imageseeker.herokuapp.com/user/login",{email:y,password:N}).then((function(e){console.log(e),t({isAuth:!0,token:e.data.token,user:e.data.user}),a("You are logged in"),D(),l&&l()})).catch((function(e){return B(e.response.data.msg)})):B("Enter all fields")},variant:"contained",color:"primary"},"Login"),r.a.createElement(f.a,{onClick:D,color:"secondary",variant:"contained"},"Cancel")),r.a.createElement(A.a,{open:E,autoHideDuration:6e3,onClose:H},r.a.createElement(P,{onClose:H,severity:"error"},R))))}a(128);function W(e){var t=e.setAuth,a=e.setInfo,o=Object(n.useState)(!1),l=Object(c.a)(o,2),i=l[0],s=l[1],u=function(){s(!i)};return r.a.createElement("div",null,r.a.createElement(f.a,{color:"inherit",onClick:u},"Logout"),r.a.createElement(O.a,{open:i,onClose:u,"aria-labelledby":"form-dialog-title"},r.a.createElement(C.a,{id:"form-dialog-title"},"Confirm Logout"),r.a.createElement(k.a,null,r.a.createElement(h.a,{gutterBottom:!0},"Are you sure you want to logout?"," ")),r.a.createElement(j.a,null,r.a.createElement(f.a,{onClick:function(){t({isAuth:!1,token:"",user:{}}),a("You are logged out"),u()},variant:"contained",color:"primary"},"Yes"),r.a.createElement(f.a,{autoFocus:!0,onClick:u,color:"secondary",variant:"contained"},"No"))))}var L=a(179),R=a(196),B=a(182),D=(a(129),a(175)),H=a(180),T=a(181),U=(a(130),a(24)),q=a(84),Y=a.n(q),z=a(85),G=a.n(z),J=function(e){var t=e.favorite,a=e.auth,o=e.setAuth,l=e.toggle,c=e.image,i=a.user,s=i.name,u=i.email,m=i.favorites,d=a.token,g=a.isAuth;return r.a.createElement(n.Fragment,null,t?r.a.createElement(D.a,{title:"Remove from favorites",onClick:function(){w.a.put("https://imageseeker.herokuapp.com/user/removefavorite",c,{headers:{"x-auth-token":a.token}}).then((function(e){o({isAuth:g,token:d,user:{name:s,email:u,favorites:m.filter((function(t){return t!==e.data}))}})}))},style:{margin:0,padding:7}},r.a.createElement(Y.a,{color:"secondary"})):r.a.createElement(D.a,{title:"Add to favorites",onClick:function(){w.a.put("https://imageseeker.herokuapp.com/user/addfavorite",c,{headers:{"x-auth-token":a.token}}).then((function(e){o({isAuth:g,token:d,user:{name:s,email:u,favorites:[e.data].concat(Object(U.a)(m))}})})).catch((function(e){401===e.response.status&&l()}))},style:{margin:0,padding:7}},r.a.createElement(G.a,null)))},V=function(e){var t=e.image,a=e.handleClickOpen,n=e.auth,o=e.favorite,l=e.setAuth,c=e.toggle;return r.a.createElement(i.a,{key:t.id,raised:!0,className:"box"},r.a.createElement(L.a,{className:"header",style:{paddingTop:"5px",paddingBottom:"5px"},title:t.tags&&t.tags.length>25?t.tags.substring(0,25)+"...":t.tags,titleTypographyProps:{variant:"body1"},subheader:t.user}),r.a.createElement(H.a,{image:t.webformatURL,className:"image",onClick:function(){a(t.largeImageURL)}}),r.a.createElement(T.a,{disableSpacing:!0,className:"cardAction",style:{margin:0,padding:0}},r.a.createElement(J,{favorite:o,auth:n,setAuth:l,toggle:c,image:t})))},K=a(86),M=a.n(K);function Q(e){var t=e.auth,a=e.setAuth,o=e.images,l=e.toggle,i=(e.moreImages,Object(n.useState)("")),s=Object(c.a)(i,2),u=s[0],m=s[1],d=r.a.useState(!1),g=Object(c.a)(d,2),f=g[0],E=g[1],p=Object(B.a)((function(e){return{appBar:{position:"relative"},root:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden"},gridList:{width:500,height:450},icon:{color:"rgba(255, 255, 255, 0.54)"},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500]}}}))(),b=function(e){m(e),E(!0)},v=function(){E(!1)};return r.a.createElement("div",{className:p.root},o.length?r.a.createElement("div",{className:"container"},o.map((function(e){return r.a.createElement(V,{toggle:l,favorite:!(!t.isAuth||!t.user.favorites.find((function(t){return t===e.id}))),setAuth:a,auth:t,key:e.id,image:e,handleClickOpen:b})}))):r.a.createElement("div",{style:{display:"flex",justifyContent:"center",flexDirection:"column"}},r.a.createElement(h.a,{style:{color:"#444",marginTop:"2rem",textAlign:"center"}},"Opps... No images found. Here is a random image for you"),r.a.createElement("img",{style:{maxHeight:"70vh",maxWidth:"100vw"},src:"https://source.unsplash.com/random"})),r.a.createElement(O.a,{style:{margin:0,padding:0},open:f,onClose:v,scroll:"body","aria-labelledby":"scroll-dialog-title","aria-describedby":"scroll-dialog-description",maxWidth:"lg"},r.a.createElement(j.a,null,r.a.createElement(D.a,{onClick:v,style:{margin:0,padding:0}},r.a.createElement(M.a,null))),r.a.createElement(k.a,{style:{padding:0}},r.a.createElement("img",{style:{maxWidth:"100%",maxHeight:"89vh",margin:"auto"},src:u,alt:""}))))}a(131);var X=a(29),Z=function(e){var t=e.auth,a=e.setAuth,o=(e.toggle,Object(n.useState)([])),l=Object(c.a)(o,2),s=l[0],u=l[1];return Object(n.useEffect)((function(){w.a.get("https://imageseeker.herokuapp.com/user/getfavorites",{headers:{"x-auth-token":t.token}}).then((function(e){console.log(e.data),u(e.data)}))}),[a]),t.isAuth?r.a.createElement(n.Fragment,null,r.a.createElement(i.a,{className:"profile-card"},r.a.createElement(L.a,{style:{height:"25vh",margin:"auto"},avatar:r.a.createElement(R.a,{style:{backgroundColor:"red"}},t.user.name[0]),title:t.user.name,subheader:"Email: "+t.user.email,titleTypographyProps:{variant:"h5"}}),r.a.createElement(h.a,{variant:"h5",style:{textAlign:"Center",marginBottom:"1rem",padding:"3px",borderBottom:"1px dotted #444"}},"Favorites"),r.a.createElement(Q,{images:s,auth:t,setAuth:a}))):r.a.createElement(X.a,{to:"/"})},$=a(33),_=a(185),ee=function(e){var t=e.setAuth,a=e.auth,o=e.setInfo;return r.a.createElement("div",{className:"root"},r.a.createElement(v.a,{position:"static"},r.a.createElement(y.a,{className:"tool"},r.a.createElement("div",null,r.a.createElement(h.a,{variant:"h6",className:"title"},r.a.createElement($.b,{style:{color:"white",textDecoration:"None"},to:"/"}," ","Image Finder"))),r.a.createElement("div",null,a.isAuth?r.a.createElement(n.Fragment,null,r.a.createElement($.b,{to:"/",style:{color:"white",textDecoration:"None"}},r.a.createElement(f.a,{color:"inherit"},"Home")),r.a.createElement($.b,{to:"/profile",style:{color:"white",textDecoration:"None"}},r.a.createElement(f.a,{color:"inherit"},"Profile")),r.a.createElement(W,{setAuth:t,setInfo:o})):r.a.createElement(n.Fragment,null,r.a.createElement(N,{setAuth:t,setInfo:o}),r.a.createElement(_.a,{color:"secondary",orientation:"vertical"}),r.a.createElement(F,{setAuth:t,setInfo:o}))))))};function te(e){var t=e.open,a=e.toggle,n=e.setAuth,o=e.setInfo;return r.a.createElement("div",null,r.a.createElement(O.a,{open:t,onClose:a,"aria-labelledby":"form-dialog-title"},r.a.createElement(C.a,{id:"form-dialog-title"},"Login or Register"),r.a.createElement(k.a,{dividers:!0},r.a.createElement(h.a,null,"Login or Register to add to favorites. ")),r.a.createElement(j.a,null,r.a.createElement(N,{onClick:a,variant:"outlined",setAuth:n,setInfo:o}),r.a.createElement(F,{onClick:a,setAuth:n,setInfo:o,variant:"outlined"}),r.a.createElement(f.a,{autoFocus:!0,onClick:a,color:"secondary",variant:"contained"},"Cancel"))))}var ae=a(186);function ne(e){return r.a.createElement(x.a,Object.assign({elevation:6,variant:"filled"},e))}var re=function(){var e=Object(n.useState)(!1),t=Object(c.a)(e,2),a=t[0],o=t[1],l=function(){o(!a)},i=Object(n.useState)(!1),s=Object(c.a)(i,2),u=s[0],m=s[1],d=Object(n.useState)({q:"",source:"",hits:10}),g=Object(c.a)(d,2),f=g[0],E=g[1],p=Object(n.useState)(""),v=Object(c.a)(p,2),y=v[0],O=v[1],j=Object(n.useState)([]),k=Object(c.a)(j,2),C=k[0],x=k[1],S=Object(n.useState)(1),I=Object(c.a)(S,2),N=I[0],P=I[1],F=Object(n.useState)("https://imageseeker.herokuapp.com/"),W=Object(c.a)(F,1)[0],L=Object(n.useState)({isAuth:!1,token:"",user:{}}),R=Object(c.a)(L,2),B=R[0],D=R[1],H=function(e,t){"clickaway"!==t&&m(!1)};return Object(n.useEffect)((function(){y&&(m(!0),setTimeout((function(){return O("")}),4e3))}),[y]),r.a.createElement("div",{className:"App"},r.a.createElement($.a,null,r.a.createElement(ee,{auth:B,setAuth:D,setInfo:O,toggle:l}),r.a.createElement(X.d,null,r.a.createElement(X.b,{path:"/",exact:!0},r.a.createElement(b,{getServerImages:function(e,t,a,n){E({q:t,source:e,hits:a}),w.a.get("".concat(W,"api/").concat(e.toLowerCase(),"?q=").concat(t,"&hits=").concat(a,"&page=").concat(n)).then((function(e){x(e.data),console.log(e.data)})).catch(console.log)},page:N,setPage:P}),C?r.a.createElement(n.Fragment,null,C.length===f.hits?r.a.createElement(ae.a,{color:"primary",onClick:function(){return P(N+1)},style:{position:"fixed",zIndex:2,bottom:"2rem",right:"2rem"},variant:"extended"},r.a.createElement(h.a,null,"Next")):null,N>1?r.a.createElement(ae.a,{onClick:function(){return P(N-1)},style:{position:"fixed",zIndex:2,bottom:"2rem",left:"2rem"},color:"secondary",variant:"extended"},r.a.createElement(h.a,null,"Previous")):null,r.a.createElement(Q,{auth:B,setAuth:D,images:C,toggle:l})):null),r.a.createElement(X.b,{path:"/profile"},r.a.createElement(Z,{auth:B,setAuth:D,toggle:l})))),r.a.createElement(A.a,{open:u,autoHideDuration:4e3,onClose:H},r.a.createElement(ne,{onClose:H,severity:"success"},y)),r.a.createElement(te,{open:a,toggle:l,setAuth:D,setInfo:O}))};l.a.render(r.a.createElement(re,null),document.getElementById("root"))},99:function(e,t,a){e.exports=a(134)}},[[99,1,2]]]);
//# sourceMappingURL=main.c7c23570.chunk.js.map